<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Арсенал отрут</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #020617;
      color: #f8fafc;
      min-height: 100vh;
    }
    .app {
      max-width: 1300px;
      margin: 0 auto;
      padding: 32px 20px 48px;
    }
    .page-header h1 {
      font-size: clamp(2rem, 4vw, 2.75rem);
    }
    .page-header p {
      color: #cbd5f5;
      margin: 0;
      max-width: 750px;
    }
    .filters {
      display: grid;
      gap: 16px;
      background: rgba(15, 23, 42, 0.85);
      margin-top: 2em;
      border: 1px solid rgba(148, 163, 184, 0.15);
      padding: 20px;
      border-radius: 16px;
      margin-bottom: 28px;
      box-shadow: 0 10px 40px rgba(15, 23, 42, 0.45);
      backdrop-filter: blur(6px);
    }
    .filter-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .filter-group label,
    .filter-group span.label {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #94a3b8;
    }
      .filter-group input,
    .filter-group select {
      border: 1px solid rgba(148, 163, 184, 0.35);
      border-radius: 10px;
      padding: 9px 12px;
      font-size: 0.95rem;
      background: #0f172a;
      color: #e2e8f0;
      transition: border 0.2s ease, box-shadow 0.2s ease;
    }
    .filter-group input:focus,
    .filter-group select:focus {
      outline: none;
      border-color: #7dd3fc;
      box-shadow: 0 0 0 2px rgba(125, 211, 252, 0.2);
    }
    .filter-row {
      display: grid;
      gap: 16px;
      grid-column: 1 / -1;
    }
    .filter-row.triple {
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    }
    .filter-row.flex {
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      align-items: end;
    }
    .chip-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      padding: 10px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      border-radius: 10px;
      min-height: 60px;
      background: #0f172a;
    }
    .chip {
      border: none;
      border-radius: 999px;
      padding: 6px 14px;
      font-size: 0.85rem;
      cursor: pointer;
      background: rgba(148, 163, 184, 0.15);
      color: #e2e8f0;
      transition: background 0.2s ease, color 0.2s ease, border 0.2s ease;
    }
    .chip:hover {
      background: rgba(56, 189, 248, 0.25);
      color: #38bdf8;
    }
    .chip.active {
      background: rgba(56, 189, 248, 0.2);
      color: #38bdf8;
      border: 1px solid rgba(56, 189, 248, 0.4);
    }
    .tag-controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-top: 6px;
      font-size: 0.8rem;
    }
    .tag-controls span {
      color: #94a3b8;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 0.7rem;
    }
    .toggle-group {
      display: inline-flex;
      border: 1px solid rgba(148, 163, 184, 0.35);
      border-radius: 999px;
      overflow: hidden;
    }
    .toggle-button {
      border: none;
      background: transparent;
      color: #e2e8f0;
      padding: 6px 14px;
      font-size: 0.8rem;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    .toggle-button.active {
      background: rgba(56, 189, 248, 0.2);
      color: #38bdf8;
    }
    .toggle-button:not(.active):hover {
      background: rgba(56, 189, 248, 0.1);
    }
    .tri-control {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
    }
    .tri-control select {
      max-width: 90px;
    }
    .tri-state {
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: #0f172a;
      color: #e2e8f0;
      border-radius: 999px;
      padding: 8px 16px;
      cursor: pointer;
      transition: background 0.2s ease, border 0.2s ease;
      font-size: 0.9rem;
    }
    .tri-state.state-any { border-color: rgba(148, 163, 184, 0.35); }
    .tri-state.state-true {
      border-color: #34d399;
      color: #34d399;
    }
    .tri-state.state-false {
      border-color: #f472b6;
      color: #f472b6;
    }
    .tri-state:hover {
      background: rgba(59, 130, 246, 0.15);
    }
    .table-wrapper {
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.15);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 30px 80px rgba(2, 6, 23, 0.65);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95rem;
    }
    thead th {
      position: sticky;
      top: 0;
      background: rgba(2, 6, 23, 0.95);
      text-align: left;
      padding: 14px 16px;
      font-size: 0.85rem;
      color: #94a3b8;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      border-bottom: 1px solid rgba(148, 163, 184, 0.15);
      cursor: pointer;
    }
    thead th:hover {
      background: rgba(30, 41, 59, 0.8);
    }
    th .sort-indicator {
      margin-left: 6px;
      font-size: 0.75rem;
      color: #38bdf8;
    }
    tbody td {
      padding: 12px 16px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.12);
      vertical-align: top;
      line-height: 1.4;
    }
    tbody tr:nth-child(even) {
      background: rgba(15, 23, 42, 0.65);
    }
    tbody tr:hover {
      background: rgba(56, 189, 248, 0.08);
    }
    .empty {
      margin: 0;
      padding: 22px;
      text-align: center;
      color: #94a3b8;
      display: none;
    }
    .empty.active {
      display: block;
    }
    @media (max-width: 760px) {
      thead th, tbody td {
        font-size: 0.85rem;
      }
      .filters {
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="page-header">
      <h1>Арсенал отрут</h1>
      <p style="font-style: italic;">У Рокільдсонів завжди знайдеться чим здивувати.</p>
      <p style="font-style: italic;">- Чертатікус Рогатікус</p>
    </header>
    <section class="filters">
      <div class="filter-group">
        <label for="nameFilter">Назва</label>
        <input type="text" id="nameFilter" placeholder="Шукати за назвою" />
      </div>
      <div class="filter-row triple">
        <div class="filter-group">
          <label for="typeFilter">Тип</label>
          <select id="typeFilter"></select>
        </div>
        <div class="filter-group">
          <label for="methodFilter">Спосіб</label>
          <select id="methodFilter"></select>
        </div>
        <div class="filter-group">
          <label for="applicationFilter">Застосування</label>
          <select id="applicationFilter"></select>
        </div>
      </div>
      <div class="filter-row flex">
        <div class="filter-group">
          <label for="complexityValue">Складність</label>
          <div class="tri-control">
            <select id="complexityCompare">
              <option value="greater">≥</option>
              <option value="less">≤</option>
            </select>
            <input type="number" id="complexityValue" placeholder="число" min="0" />
          </div>
        </div>
        <div class="filter-group">
          <span class="label">Імба</span>
          <button type="button" class="tri-state state-any" id="imbaFilter" data-filter="imba" data-state="any">Усі</button>
        </div>
        <div class="filter-group">
          <span class="label">Планую використати</span>
          <button type="button" class="tri-state state-any" id="planFilter" data-filter="plan" data-state="any">Усі</button>
        </div>
      </div>
      <div class="filter-group full-width">
        <label>Теги</label>
        <div class="chip-list" id="tagChips"></div>
      </div>
      <div class="filter-group full-width">
        <div class="tag-controls">
          <span>Логіка</span>
          <div class="toggle-group" id="tagModeToggle">
            <button type="button" class="toggle-button active" data-tag-mode="or">АБО</button>
            <button type="button" class="toggle-button" data-tag-mode="and">І</button>
          </div>
        </div>
      </div>
    </section>
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th data-key="Назва">Назва<span class="sort-indicator"></span></th>
            <th data-key="Тип">Тип<span class="sort-indicator"></span></th>
            <th data-key="Спосіб нанесення">Спосіб<span class="sort-indicator"></span></th>
            <th data-key="Ціна">Ціна<span class="sort-indicator"></span></th>
            <th data-key="Ефект">Ефект<span class="sort-indicator"></span></th>
            <th data-key="Застосування">Застосування<span class="sort-indicator"></span></th>
            <th data-key="Теги">Теги<span class="sort-indicator"></span></th>
            <th data-key="Складність кидка">Складність<span class="sort-indicator"></span></th>
            <th data-key="Імба">Імба<span class="sort-indicator"></span></th>
            <th data-key="Планую використати">Планую<span class="sort-indicator"></span></th>
          </tr>
        </thead>
        <tbody id="tableBody"></tbody>
      </table>
      <p class="empty" id="emptyState">Нічого не знайдено. Спробуй змінити критерії.</p>
    </div>
  </div>
  <script>
    const potions = [
  {
    "Назва": "Аджида",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 1000,
    "Ефект": "Безбарвна й без запаху рідина із затриманою дією. Після споживання: Ряткидок Витривалості 18, інакше істота почувається запамороченою 1d8 хв (незначні наслідки). Після цього, якщо перший кидок був провалений, істота робить ще один Ряткидок Витривалості 14; при провалі стає Сліпою. Лише магія відновлює зір, втрачений так.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["сліпота", "затримка", "перманентне", "контроль"],
    "Складність кидка": 18,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Миш'як",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 500,
    "Ефект": "Смертельно небезпечна безбарвна рідина без запаху. Ряткидок Витривалості 15: при провалі істота Отруєна на 1 годину й отримує 13 (3d8) отруйної шкоди; при успіху — половину шкоди й без додаткових ефектів.",
    "Застосування": ["соціалка"],
    "Теги": ["отруєння", "шкода", "летальний"],
    "Складність кидка": 15,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Спори аскомоїда",
    "Тип": "травяний",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 400,
    "Ефект": "Порошок із грибів, що збурює свідомість. Ряткидок Витривалості 12: при провалі істота Оглушена на 2d4 раунди; якщо провал на 5+ — тривалість збільшується ще на 1d4 раунди.",
    "Застосування": ["бій", "дослідження"],
    "Теги": ["оглушення", "контроль", "аое"],
    "Складність кидка": 12,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Токсин аспіда",
    "Тип": "токсин",
    "Спосіб нанесення": "бойовий",
    "Ціна": 600,
    "Ефект": "Майже неможливо витримати. Ряткидок Витривалості 22: при провалі істота Отруєна на 1d4 раунди й отримує 5 (2d4) отруйної шкоди.",
    "Застосування": ["бій"],
    "Теги": ["отруєння", "шкода", "висока складність"],
    "Складність кидка": 22,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Кров убивці",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 150,
    "Ефект": "Ряткидок Витривалості 10: при провалі істота отримує 6 (1d12) отруйної шкоди й Отруєна на 24 години; при успіху — половину шкоди й не Отруєна.",
    "Застосування": ["соціалка"],
    "Теги": ["отруєння", "шкода", "довгодіючий"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Око василіска",
    "Тип": "суміш",
    "Спосіб нанесення": "бойовий",
    "Ціна": 600,
    "Ефект": "Миттєво запускає петрифікацію. Ряткидок Витривалості 12: при провалі істота Скам'яніла. Наприкінці кожного свого ходу може повторити ряткидок, щоби завершити ефект; інакше його також може зняти магія на кшталт greater restoration.",
    "Застосування": ["бій"],
    "Теги": ["петрифікація", "контроль"],
    "Складність кидка": 12,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Беладона",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 250,
    "Ефект": "Чорна рідина, що губиться у їжі/вині. Ряткидок Витривалості 11: при провалі істота отримує 2 (1d4) отруйної шкоди й її Спритність тимчасово зменшується на 2. Кожні 10 хв протягом 1 години повторює ряткидок: при успіху ефект завершується й Спритність відновлюється; при провалі — ще 2 (1d4) шкоди.",
    "Застосування": ["соціалка"],
    "Теги": ["зменшення характеристики", "дотик часу", "шкода"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Отрута чорної гадюки",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 150,
    "Ефект": "Затримана дія. Ряткидок Витривалості 10: при провалі істота через 2d6 раундів після контакту отримує 3 (1d6) отруйної шкоди.",
    "Застосування": ["бій"],
    "Теги": ["затримка", "шкода"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Пил чорного лотоса",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 800,
    "Ефект": "Гіркий темно-сірий порошок. Ряткидок Витривалості 12: при провалі істота Отруєна до кінця наступного тривалого відпочинку. Додатково її Конституція назавжди зменшується на 1d6; відновити це може лише магія на кшталт greater restoration.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["отруєння", "перманентне", "зменшення характеристики"],
    "Складність кидка": 12,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Екстракт чорного лотоса",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 4000,
    "Ефект": "Надзвичайно рідкісний, без запаху й кольору. Ряткидок Витривалості 20: при провалі 55 (10d10) отруйної шкоди; при успіху — половина.",
    "Застосування": ["соціалка"],
    "Теги": ["шкода", "летальний", "висока складність"],
    "Складність кидка": 20,
    "Імба": true,
    "Планую використати": true
  },
  {
    "Назва": "Чорна олія",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 500,
    "Ефект": "Діє лише на ссавців. Ряткидок Витривалості 20: при провалі на 1d4 години істота бачить у темряві як людина (обмежений темний зір) і отримує опір дробильній шкоді.",
    "Застосування": ["дослідження", "соціалка"],
    "Теги": ["темний зір", "опір", "довгодіючий", "утиліті"],
    "Складність кидка": 20,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Кривавий корінь",
    "Тип": "травяний",
    "Спосіб нанесення": "бойовий",
    "Ціна": 400,
    "Ефект": "Повільнодіючий (ефект проявляється не раніше ніж за 1 годину). Ряткидок Витривалості 11: при провалі істота тремтить і її Спритність тимчасово зменшується на 2, доки вона не завершить тривалий відпочинок.",
    "Застосування": ["бій"],
    "Теги": ["зменшення характеристики", "затримка", "дебаф"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Блу вінніс",
    "Тип": "травяний",
    "Спосіб нанесення": "бойовий",
    "Ціна": 200,
    "Ефект": "Ряткидок Витривалості 10: при провалі істота Непритомна на 6d10 хвилин.",
    "Застосування": ["бій", "соціалка"],
    "Теги": ["сон", "нелетальний", "контроль"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Блулука",
    "Тип": "травяний",
    "Спосіб нанесення": "контактний",
    "Ціна": 200,
    "Ефект": "Блакитна речовина з кислим запахом: повільна кислота. Ряткидок Витривалості 12: при провалі через 1d6 хв у місці контакту з'являється яскрава синя незмивна мітка; прибрати її може лише магічне зцілення.",
    "Застосування": ["соціалка", "дослідження"],
    "Теги": ["мітка", "затримка", "перманентне", "ідентифікація"],
    "Складність кидка": 12,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Бралія",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 250,
    "Ефект": "Кремова рідина без запаху з кислуватим смаком. Ряткидок Витривалості 16: при провалі 2 (1d4) отруйної шкоди; при успіху — половина.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["шкода", "легкийефект"],
    "Складність кидка": 16,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Подих пустелі",
    "Тип": "суміш",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 700,
    "Ефект": "Магічна отрута, що викликає жар і надмірне потовиділення. Ряткидок Витривалості 18: при провалі Мудрість зменшується на 1d4 до кінця наступного тривалого відпочинку.",
    "Застосування": ["бій", "дослідження"],
    "Теги": ["зменшення характеристики", "дебаф"],
    "Складність кидка": 18,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Пари спаленого отуру",
    "Тип": "суміш",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 500,
    "Ефект": "Ряткидок Витривалості 13: при провалі 10 (3d6) отруйної шкоди й на початку кожного свого ходу істота повторює ряткидок. Кожен наступний провал додає 3 (1d6) шкоди. Після трьох успішних ряткидків поспіль ефект закінчується.",
    "Застосування": ["бій"],
    "Теги": ["шкода", "повторні кидки", "аое"],
    "Складність кидка": 13,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Слиз падальника",
    "Тип": "отрута",
    "Спосіб нанесення": "контактний",
    "Ціна": 200,
    "Ефект": "Ряткидок Витривалості 13: при провалі істота Отруєна на 1 хвилину і Паралізована. Наприкінці кожного свого ходу може повторити ряткидок, щоби завершити ефект.",
    "Застосування": ["бій"],
    "Теги": ["параліч", "отруєння", "контроль"],
    "Складність кидка": 13,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Каустар",
    "Тип": "травяний",
    "Спосіб нанесення": "бойовий",
    "Ціна": 250,
    "Ефект": "Жовтий крем: сильний біль, але не вбиває. Ряткидок Витривалості 11: при провалі 7 (3d4) отруйної шкоди й Отруєний на 1d6 хв. Ця шкода не може знизити ХП нижче 1. Коли отрута минає, істота відновлює 1 ХП за раунд.",
    "Застосування": ["бій"],
    "Теги": ["нелетальний", "отруєння", "шкода", "відновлення"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Кулабін",
    "Тип": "токсин",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 800,
    "Ефект": "Тонкий сірий газ, що зриває дихання. Ряткидок Витривалості 13: при провалі істота Отруєна до 8 годин і вважається такою, що має рівень виснаження 4 (якщо не вищий). Щогодини повторює ряткидок: кожен успіх зменшує виснаження на 1; на 0 ефект зникає.",
    "Застосування": ["бій", "дослідження"],
    "Теги": ["отруєння", "виснаження", "довгодіючий", "аое"],
    "Складність кидка": 13,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Кураре",
    "Тип": "травяний",
    "Спосіб нанесення": "бойовий",
    "Ціна": 150,
    "Ефект": "Ряткидок Витривалості 9: при провалі істота Отруєна на 1 хвилину і Паралізована, доки Отруєна. Наприкінці кожного свого ходу може повторити ряткидок, щоби припинити параліч.",
    "Застосування": ["бій"],
    "Теги": ["параліч", "отруєння", "контроль"],
    "Складність кидка": 9,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Ціанід",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 600,
    "Ефект": "Порошок із запахом гіркого мигдалю. Ряткидок Витривалості 15: при провалі істота Отруєна на 1 годину і отримує 18 (4d8) отруйної шкоди; при успіху — половина шкоди.",
    "Застосування": ["соціалка"],
    "Теги": ["отруєння", "шкода", "летальний"],
    "Складність кидка": 15,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Пилок цибели",
    "Тип": "травяний",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 300,
    "Ефект": "Викликає галюцинації та відчуття переслідування. Ряткидок Витривалості 12: при провалі істота Налякана на 2d4 раунди.",
    "Застосування": ["бій", "дослідження"],
    "Теги": ["страх", "галюцинації", "контроль", "аое"],
    "Складність кидка": 12,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Порошок темного жниваря",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 400,
    "Ефект": "Порошок смертельного гриба, змішують з їжею. Ряткидок Витривалості 12: при провалі істота Отруєна на 1d4 раунди й отримує 10 (5d4) отруйної шкоди.",
    "Застосування": ["соціалка"],
    "Теги": ["отруєння", "шкода", "летальний"],
    "Складність кидка": 12,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Темна змія",
    "Тип": "токсин",
    "Спосіб нанесення": "контактний",
    "Ціна": 500,
    "Ефект": "Карминово-червоний порошок лишає бородавчасті нарости. Ряткидок Витривалості 13: при провалі на місці контакту з'являються червоні бородавки на 1d4 дні, а Харизма тимчасово зменшується на 2 на цей час.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["зменшення характеристики", "мітка", "довгодіючий"],
    "Складність кидка": 13,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Смертельний клинок",
    "Тип": "токсин",
    "Спосіб нанесення": "бойовий",
    "Ціна": 1600,
    "Ефект": "Отрута, цінована дроу. Ряткидок Витривалості 18: при провалі 36 (8d8) отруйної шкоди; при успіху — половина.",
    "Застосування": ["бій"],
    "Теги": ["шкода", "летальний", "висока складність"],
    "Складність кидка": 18,
    "Імба": true,
    "Планую використати": true
  },
  {
    "Назва": "Пустельне бажання",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 200,
    "Ефект": "Зелена рідина з кактуса, викликає зневоднення. Ряткидок Витривалості 11: при провалі рівень виснаження збільшується на 2 на 8 + 1d8 год. Подвійна норма води зменшує виснаження на 1.",
    "Застосування": ["дослідження", "соціалка"],
    "Теги": ["виснаження", "довгодіючий", "виживання"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Чортова трава",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 300,
    "Ефект": "При споживанні викликає сильні галюцинації і втрату зв'язного мовлення. Ряткидок Витривалості 10: при провалі істота не може говорити зрозуміло до завершення тривалого відпочинку, а потім не пам'ятає подій від моменту отруєння.",
    "Застосування": ["соціалка", "дослідження"],
    "Теги": ["галюцинації", "німота", "амнезія", "контроль"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Діффенбах",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 400,
    "Ефект": "Жовтувата рідина, розслабляє голосові зв'язки. Ряткидок Витривалості 15: при провалі істота повністю німа на 2d4 години; при успіху — німа на 1d4 години.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["німота", "контроль", "довгодіючий"],
    "Складність кидка": 15,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Дошенкана",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 500,
    "Ефект": "Зелений порошок: задишка, нудота, судоми. Ряткидок Витривалості 13: при провалі істота Отруєна на 1d8 год. Якщо провал на 10+ — істота назавжди втрачає зір.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["отруєння", "довгодіючий", "сліпота", "перманентне"],
    "Складність кидка": 13,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Сон Я",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 600,
    "Ефект": "Пахне виноградом, після споживання позбавляє сну (навіть ельфів). Ряткидок Витривалості 14: при провалі істота не може спати, доки ефект не зніме магія. Після кожного тривалого відпочинку її виснаження збільшується на 1 (до смерті на 6-й день, якщо нічого не зробити).",
    "Застосування": ["соціалка"],
    "Теги": ["виснаження", "довгодіючий", "затяжний", "летальний"],
    "Складність кидка": 14,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Сироп снів",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 800,
    "Ефект": "Солодка сіра/біла рідина, дарує «приємні сни». Під час першого тривалого відпочинку після споживання: ряткидок Мудрості 14; при провалі істота на 1d4 години перебуває в «самовдоволеному» стані: не може атакувати чи шкодити (зброєю або магією), а інші мають перевагу на соціальні перевірки проти неї. Якщо їй завдають шкоди — ефект одразу минає.",
    "Застосування": ["соціалка"],
    "Теги": ["зачарування", "нелетальний", "контроль", "сон"],
    "Складність кидка": 14,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Сльози драйдера",
    "Тип": "токсин",
    "Спосіб нанесення": "бойовий",
    "Ціна": 400,
    "Ефект": "Токсин зі слини чудовиська. Ряткидок Витривалості 16: при провалі Харизма тимчасово зменшується на 4 до завершення тривалого відпочинку.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["зменшення характеристики", "дебаф"],
    "Складність кидка": 16,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Друн",
    "Тип": "токсин",
    "Спосіб нанесення": "бойовий",
    "Ціна": 1600,
    "Ефект": "Нестабільний червоний токсин (низький DC, але дуже сильний). Ряткидок Витривалості 8: при провалі 31 (7d8) отруйної шкоди.",
    "Застосування": ["бій"],
    "Теги": ["шкода", "ризиковий", "летальний"],
    "Складність кидка": 8,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Отрута дроу",
    "Тип": "токсин",
    "Спосіб нанесення": "бойовий",
    "Ціна": 200,
    "Ефект": "Ряткидок Витривалості 13: при провалі істота Отруєна на 1 годину. Якщо провал на 5+ — вона також Непритомна, доки Отруєна (прокидається від шкоди або якщо її розбудять дією).",
    "Застосування": ["бій", "соціалка"],
    "Теги": ["отруєння", "сон", "контроль"],
    "Складність кидка": 13,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Емлок",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 600,
    "Ефект": "Солодкий сироп із персиковим запахом; діє приблизно за 30 хв. Ряткидок Витривалості 13: при провалі істота Отруєна на 25 + 1d10 хв. Після цього її максимум ХП зменшується на 1d10 (магічне лікування відновлює цей максимум).",
    "Застосування": ["соціалка"],
    "Теги": ["отруєння", "зменшення максимальних ХП", "затримка"],
    "Складність кидка": 13,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Ервург",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 150,
    "Ефект": "Світло-зелена рідина з лісової квітки. Ряткидок Витривалості 11: при провалі істота безупинно кашляє 5 + 1d10 хвилин.",
    "Застосування": ["соціалка", "дослідження"],
    "Теги": ["перешкода", "довгодіючий", "дебаф"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Есенція етеру",
    "Тип": "токсин",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 300,
    "Ефект": "Ряткидок Витривалості 15: при провалі істота Отруєна на 8 годин і Непритомна. Прокидається, якщо отримує шкоду, або якщо інша істота витратить дію, щоб її розбудити.",
    "Застосування": ["бій", "соціалка"],
    "Теги": ["сон", "отруєння", "нелетальний", "контроль"],
    "Складність кидка": 15,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Отрута етеркапа",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 200,
    "Ефект": "Ряткидок Витривалості 11: при провалі 4 (1d8) отруйної шкоди й Отруєний на 1 хвилину. Наприкінці кожного свого ходу може повторити ряткидок, щоби завершити Отруєння.",
    "Застосування": ["бій"],
    "Теги": ["отруєння", "шкода", "повторні кидки"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Флуна",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 200,
    "Ефект": "Отрута болотяного жука. Ряткидок Витривалості 10: при провалі 7 (2d6) отруйної шкоди.",
    "Застосування": ["бій"],
    "Теги": ["шкода"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Гарабан",
    "Тип": "токсин",
    "Спосіб нанесення": "бойовий",
    "Ціна": 300,
    "Ефект": "Червона рідина, часто для метальної зброї мисливців. ряткидок Мудрості 12: при провалі істота засинає на 1d4 хвилини. Сон «природний»: будь-який гучний шум поряд будить її.",
    "Застосування": ["бій", "соціалка"],
    "Теги": ["сон", "нелетальний", "контроль"],
    "Складність кидка": 12,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Слина ґуля",
    "Тип": "токсин",
    "Спосіб нанесення": "контактний",
    "Ціна": 600,
    "Ефект": "Зеленкувата олія, що сковує ноги. Ряткидок Витривалості 13: при провалі істота Скута (restrained) на 2d6 хвилин; при успіху — на половину цього часу.",
    "Застосування": ["бій"],
    "Теги": ["сковування", "контроль"],
    "Складність кидка": 13,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Отрута гігантської сколопендри",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 300,
    "Ефект": "Ряткидок Витривалості 11: при провалі 10 (3d6) отруйної шкоди. Якщо ця шкода знижує ціль до 0 ХП, ціль стабільна, але Отруєна на 1 годину (навіть після відновлення ХП) і Паралізована, доки Отруєна.",
    "Застосування": ["бій"],
    "Теги": ["шкода", "параліч", "отруєння", "нокаут-пастка"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Отрута гігантського скорпіона",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 1000,
    "Ефект": "Ряткидок Витривалості 12: при провалі 22 (4d10) отруйної шкоди; при успіху — половина.",
    "Застосування": ["бій"],
    "Теги": ["шкода", "летальний"],
    "Складність кидка": 12,
    "Імба": true,
    "Планую використати": true
  },
  {
    "Назва": "Отрута гігантського павука",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 300,
    "Ефект": "Ряткидок Витривалості 11: при провалі 9 (2d8) отруйної шкоди; при успіху — половина. Якщо шкода знижує ціль до 0 ХП, вона стабільна, але Отруєна на 1 годину і Паралізована, доки Отруєна.",
    "Застосування": ["бій"],
    "Теги": ["шкода", "параліч", "отруєння"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Отрута гігантської жаби",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 200,
    "Ефект": "Ряткидок Витривалості 11: при провалі 5 (1d10) отруйної шкоди.",
    "Застосування": ["бій"],
    "Теги": ["шкода"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Отрута гігантської оси",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 300,
    "Ефект": "Ряткидок Витривалості 11: при провалі 10 (3d6) отруйної шкоди; при успіху — половина. Якщо шкода знижує ціль до 0 ХП, вона стабільна, але Отруєна на 1 годину і Паралізована, доки Отруєна.",
    "Застосування": ["бій"],
    "Теги": ["шкода", "параліч", "отруєння"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Отрута гігантського вовчого павука",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 250,
    "Ефект": "Ряткидок Витривалості 11: при провалі 7 (2d6) отруйної шкоди; при успіху — половина. Якщо шкода знижує ціль до 0 ХП, вона стабільна, але Отруєна на 1 годину і Паралізована, доки Отруєна.",
    "Застосування": ["бій"],
    "Теги": ["шкода", "параліч", "отруєння"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Жовч зеленого дракона",
    "Тип": "токсин",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 2500,
    "Ефект": "Тяжкий зелений газ масового ураження. Ряткидок Витривалості 22: при провалі істота Отруєна на 1 годину і отримує 45 (10d8) отруйної шкоди; при успіху — половина шкоди.",
    "Застосування": ["бій"],
    "Теги": ["аое", "шкода", "отруєння", "висока складність"],
    "Складність кидка": 22,
    "Імба": true,
    "Планую використати": true
  },
  {
    "Назва": "Олія зеленої крові",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 150,
    "Ефект": "Викликає сильну нудоту після будь-якої їжі/питва. Ряткидок Витривалості 10: при провалі істота Отруєна на 1d6 хвилин.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["отруєння", "нелетальний"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Мох Ід",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 400,
    "Ефект": "Біла висотна рослина: метаболічний шок. Ряткидок Витривалості 10: при провалі істота Отруєна, а її Інтелект тимчасово зменшується на 1d4 до завершення тривалого відпочинку.",
    "Застосування": ["соціалка", "дослідження"],
    "Теги": ["отруєння", "зменшення характеристики", "дебаф"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Осяяння женця",
    "Тип": "суміш",
    "Спосіб нанесення": "бойовий",
    "Ціна": 400,
    "Ефект": "Липка рідина: при потраплянні в кров тимчасово забирає слух. Ряткидок Витривалості 15: при провалі істота Глуха до кінця наступного короткого або тривалого відпочинку.",
    "Застосування": ["бій", "дослідження"],
    "Теги": ["глухота", "контроль", "дебаф"],
    "Складність кидка": 15,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Туман божевілля",
    "Тип": "суміш",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 2000,
    "Ефект": "Перфумоподібний туман, що ламає психіку. Ряткидок Витривалості 14: при провалі істота Отруєна, а її Мудрість зменшується на 3d6. За критично низької Мудрості істота може втратити контроль над собою й поводитись саморуйнівно (без деталізації; наслідки вирішує Майстер).",
    "Застосування": ["бій", "соціалка"],
    "Теги": ["отруєння", "зменшення характеристики", "безумство", "аое"],
    "Складність кидка": 14,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Джалвун дживін",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 400,
    "Ефект": "«Попереджувальна» отрута дроу з підземної жаби: нудота, жар, блювання. Ряткидок Витривалості 14: при провалі істота Отруєна на кілька днів. Після кожного тривалого відпочинку повторює ряткидок, щоби завершити ефект (не довше 1 тижня).",
    "Застосування": ["бій"],
    "Теги": ["отруєння", "довгодіючий", "нелетальний"],
    "Складність кидка": 14,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Каучук джараби",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 800,
    "Ефект": "Світло-сіра гумова паста, непомітна в їжі після приготування. Ряткидок Витривалості 16: при провалі істота Отруєна, а її максимум ХП зменшується на 50%. Щохвилини (кожні 10 раундів) може повторити ряткидок, щоб завершити ефект і відновити максимум ХП (але не поточні ХП). DC зменшується на 1 після кожної спроби.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["отруєння", "зменшення максимальних ХП", "повторні кидки", "затяжний"],
    "Складність кидка": 16,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Ятрофа",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 200,
    "Ефект": "Смачні горіхи, що змушують з'їсти забагато. Ряткидок Витривалості 10: при провалі швидкість стає 5 футів на 1d6 × 10 хв, і істота не може робити дію Ривок (Dash) у цей час.",
    "Застосування": ["дослідження", "бій"],
    "Теги": ["уповільнення", "контроль", "довгодіючий"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Токсин «Вбивчого ока»",
    "Тип": "токсин",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 2500,
    "Ефект": "Газ із печінки рідкісної морської риби. Ряткидок Витривалості 18: при провалі істота Отруєна й отримує 27 (6d8) отруйної шкоди; при успіху — половина. Наприкінці кожного свого ходу може повторити ряткидок, щоби завершити Отруєння.",
    "Застосування": ["бій"],
    "Теги": ["аое", "шкода", "отруєння", "повторні кидки"],
    "Складність кидка": 18,
    "Імба": true,
    "Планую використати": true
  },
  {
    "Назва": "Останній ковток",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 300,
    "Ефект": "Для вина: не змінює смак, трохи підсвічує колір. Ряткидок Витривалості 13: при провалі істота Отруєна на 1d8 годин. Щогодини повторює ряткидок; при успіху ефект завершується.",
    "Застосування": ["соціалка"],
    "Теги": ["отруєння", "довгодіючий"],
    "Складність кидка": 13,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Пил ліча",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 400,
    "Ефект": "Чорний сироп зі смаком попелу, діє швидко. Ряткидок Витривалості 14: при провалі 10 (4d4) отруйної шкоди; при успіху — половина.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["шкода", "летальний"],
    "Складність кидка": 14,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Ілюзія Ломата",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 500,
    "Ефект": "Без смаку (рідина або «пісок»), викликає відчуття постійного стеження. ряткидок Мудрості 15: при провалі істота стає параноїдально Наляканою на 6d10 хвилин.",
    "Застосування": ["соціалка"],
    "Теги": ["страх", "параноя", "довгодіючий", "контроль"],
    "Складність кидка": 15,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Кінтал мага",
    "Тип": "суміш",
    "Спосіб нанесення": "бойовий",
    "Ціна": 700,
    "Ефект": "Спроєктовано проти заклиначів: ріже голосові зв'язки. Ряткидок Витривалості 19: при провалі істота не може видавати звуків до кінця наступного тривалого відпочинку.",
    "Застосування": ["бій", "соціалка"],
    "Теги": ["німота", "анти-кастер", "контроль"],
    "Складність кидка": 19,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Злоба",
    "Тип": "токсин",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 250,
    "Ефект": "Ряткидок Витривалості 15: при провалі істота Отруєна на 1 годину і Сліпа на цей час.",
    "Застосування": ["бій"],
    "Теги": ["отруєння", "сліпота", "контроль"],
    "Складність кидка": 15,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Паста кореня малісс",
    "Тип": "травяний",
    "Спосіб нанесення": "контактний",
    "Ціна": 300,
    "Ефект": "Викликає тремтіння та легку задишку. Ряткидок Витривалості 11: при провалі істота має перешкоду на всі перевірки Спритності до завершення тривалого відпочинку.",
    "Застосування": ["бій", "дослідження"],
    "Теги": ["дебаф", "перешкода", "спритність"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Мандрагора",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 300,
    "Ефект": "У передозуванні — отрута з гірким смаком. Ряткидок Витривалості 10: при провалі істота Отруєна на 2d6 хв; доки Отруєна, її Мудрість тимчасово зменшується на 1d4 і вона має галюцинації.",
    "Застосування": ["соціалка", "дослідження"],
    "Теги": ["отруєння", "зменшення характеристики", "галюцинації"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Сльози опівночі",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 1500,
    "Ефект": "Не має ефекту до опівночі. Якщо отруту не нейтралізувати до того: Ряткидок Витривалості 17; при провалі 31 (9d6) отруйної шкоди, при успіху — половина.",
    "Застосування": ["соціалка"],
    "Теги": ["затримка", "шкода", "летальний"],
    "Складність кидка": 17,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Мурфа",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 400,
    "Ефект": "Безбарвна рідина на основі свинцю: конвульсії. Ряткидок Витривалості 14: при провалі істота Отруєна, падає в prone, випускає з рук усе, що тримала, і корчиться. Наприкінці кожного свого ходу може повторити ряткидок, щоб завершити Отруєння.",
    "Застосування": ["бій", "соціалка"],
    "Теги": ["отруєння", "контроль", "prone", "роззброєння"],
    "Складність кидка": 14,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Нібон",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 400,
    "Ефект": "Безбарвна й без запаху рідина на основі золота/срібла, «оглушує» сенсорно. Ряткидок Витривалості 11: при провалі істота має перешкоду на всі атаки та на всі перевірки, що базуються на Спритності, до кінця наступного короткого або тривалого відпочинку.",
    "Застосування": ["бій", "дослідження"],
    "Теги": ["перешкода", "дебаф", "спритність"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Нітарит",
    "Тип": "травяний",
    "Спосіб нанесення": "контактний",
    "Ціна": 600,
    "Ефект": "Працює, якщо кинути в очі: пече і псує зір. Ряткидок Витривалості 11: при провалі істота має перешкоду на атаки протягом 10 раундів.",
    "Застосування": ["бій"],
    "Теги": ["перешкода", "контроль", "очі"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Олія таггіта",
    "Тип": "токсин",
    "Спосіб нанесення": "контактний",
    "Ціна": 400,
    "Ефект": "Ряткидок Витривалості 13: при провалі істота Отруєна на 24 години і Непритомна. Вона прокидається, якщо отримує шкоду.",
    "Застосування": ["бій", "соціалка"],
    "Теги": ["сон", "отруєння", "нелетальний", "довгодіючий"],
    "Складність кидка": 13,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Опія",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 400,
    "Ефект": "Коричневий порошок із запахом кави. Через 2d4 раунди після споживання: ряткидок Мудрості 15; при провалі істота Оглушена на 2d4 раунди.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["оглушення", "затримка", "контроль"],
    "Складність кидка": 15,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Бліда настоянка",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 250,
    "Ефект": "Ряткидок Витривалості 16: при провалі 3 (1d6) отруйної шкоди й Отруєний. Доки триває ефект, шкоду від цієї отрути не можна зцілити жодним способом. Кожні 24 години повторює ряткидок: при провалі — ще 3 (1d6) шкоди; після 7 успішних ряткидків отрута завершується і лікування знову працює.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["отруєння", "затяжний", "антихіл", "повторні кидки"],
    "Складність кидка": 16,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Отруйне дерево",
    "Тип": "травяний",
    "Спосіб нанесення": "бойовий",
    "Ціна": 200,
    "Ефект": "Рідкісне дерево з джунглів; навіть подряпина завдає страшного болю, а квіти — природний антидот. Ряткидок Витривалості 10: при провалі 7 (2d6) шкоди.",
    "Застосування": ["дослідження", "бій"],
    "Теги": ["шкода", "виживання"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Отрута фіолетового черва",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 2000,
    "Ефект": "Ряткидок Витривалості 19: при провалі 42 (12d6) отруйної шкоди; при успіху — половина.",
    "Застосування": ["бій"],
    "Теги": ["шкода", "летальний", "висока складність"],
    "Складність кидка": 19,
    "Імба": true,
    "Планую використати": false
  },
  {
    "Назва": "Кваріган",
    "Тип": "токсин",
    "Спосіб нанесення": "бойовий",
    "Ціна": 400,
    "Ефект": "«Ловець гномів/дворфів»: токсичний лише для дворфів. Будь-який дворф робить Ряткидок Витривалості 20; при провалі 9 (2d8) отруйної шкоди.",
    "Застосування": ["бій"],
    "Теги": ["шкода", "расова", "висока складність"],
    "Складність кидка": 20,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Рододендрон",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 400,
    "Ефект": "Сильна блювота і діарея. Ряткидок Витривалості 11: при провалі істота Отруєна до кінця наступного тривалого відпочинку, а її Сила тимчасово зменшується на 2, доки Отруєна таким чином.",
    "Застосування": ["соціалка"],
    "Теги": ["отруєння", "зменшення характеристики", "нелетальний"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Хвіст королівського скорпіона",
    "Тип": "отрута",
    "Спосіб нанесення": "контактний",
    "Ціна": 1000,
    "Ефект": "Діє від контакту зі шкірою. Ряткидок Витривалості 16: при провалі 14 (4d6) отруйної шкоди й Отруєний на 1 хвилину. Наприкінці кожного свого ходу повторює ряткидок: при успіху завершує Отруєння; при провалі — додатково отримує 3 (1d6) отруйної шкоди.",
    "Застосування": ["бій"],
    "Теги": ["отруєння", "шкода", "повторні кидки"],
    "Складність кидка": 16,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Сенд-селлер",
    "Тип": "суміш",
    "Спосіб нанесення": "бойовий",
    "Ціна": 600,
    "Ефект": "Порошок, що навіює магічний сон (не діє на ельфів і напівельфів). ряткидок Мудрості 14: при провалі істота засинає на 1d6 хвилин.",
    "Застосування": ["бій", "соціалка"],
    "Теги": ["сон", "нелетальний", "контроль", "расова"],
    "Складність кидка": 14,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Осад листя сассоне",
    "Тип": "травяний",
    "Спосіб нанесення": "контактний",
    "Ціна": 200,
    "Ефект": "Білий порошок із запахом фруктів. Ряткидок Витривалості 9: при провалі істота Отруєна до кінця наступного короткого відпочинку, а її максимум ХП зменшується на 1d6 (магічне лікування відновлює максимум ХП).",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["отруєння", "зменшення максимальних ХП", "низька складність"],
    "Складність кидка": 9,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Зміїна отрута",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 200,
    "Ефект": "Ряткидок Витривалості 11: при провалі 10 (3d6) отруйної шкоди; при успіху — половина.",
    "Застосування": ["бій"],
    "Теги": ["шкода"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Сутність тіні",
    "Тип": "суміш",
    "Спосіб нанесення": "бойовий",
    "Ціна": 800,
    "Ефект": "Чорна отрута з есенцій нежиті. Ряткидок Витривалості 14: Сила зменшується на 1d4 при провалі або на 1d2 при успіху. Зниження триває, доки його не зніме магія на кшталт greater restoration.",
    "Застосування": ["бій"],
    "Теги": ["зменшення характеристики", "перманентне", "дебаф"],
    "Складність кидка": 14,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Посріблене вино",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 400,
    "Ефект": "Сріблястий лікер, не діє на гафлінгів і гномів. Ряткидок Витривалості 14: при провалі істота сміється нападами 2d4 раунди.",
    "Застосування": ["соціалка"],
    "Теги": ["нелетальний", "контроль", "расова"],
    "Складність кидка": 14,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Слоуфут",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 150,
    "Ефект": "Зелена рідина з трави «повільна хода», виснажує дихання. Ряткидок Витривалості 11: при провалі виснаження збільшується на 1 до завершення тривалого відпочинку; якщо провал на 5+ — виснаження +2 замість +1.",
    "Застосування": ["дослідження", "бій"],
    "Теги": ["виснаження", "дебаф"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Смугастий мухомор",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 300,
    "Ефект": "Гриб із глибин: неврологічні збої при травленні. Приблизно через 2 години після споживання: Ряткидок Витривалості 10; при провалі Інтелект зменшується на 2 до кінця наступного тривалого відпочинку.",
    "Застосування": ["дослідження", "соціалка"],
    "Теги": ["зменшення характеристики", "затримка"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Болотний газ",
    "Тип": "токсин",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 600,
    "Ефект": "Сірий газ, що сповільнює або присипляє. ряткидок Мудрості 14: при провалі істота засинає на 1d6 раундів. Гучний шум не будить, але будь-яка отримана шкода завершує сон.",
    "Застосування": ["бій"],
    "Теги": ["сон", "нелетальний", "контроль", "аое"],
    "Складність кидка": 14,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Корінь терінаву",
    "Тип": "травяний",
    "Спосіб нанесення": "контактний",
    "Ціна": 500,
    "Ефект": "Спричиняє тимчасовий «параліч мозку». Ряткидок Витривалості 10: при провалі істота Недієздатна (incapacitated) на 1d6 раундів.",
    "Застосування": ["бій"],
    "Теги": ["недієздатність", "контроль"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Трум",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 700,
    "Ефект": "Світло-блакитна рідина з лимонним запахом: сильне сп'яніння. Ряткидок Витривалості 14: при провалі істота Отруєна до завершення тривалого відпочинку, а її Спритність зменшується на 1d4 на цей час.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["отруєння", "зменшення характеристики", "нелетальний"],
    "Складність кидка": 14,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Торпор",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 600,
    "Ефект": "Ряткидок Витривалості 15: при провалі істота Отруєна на 4d6 годин і Недієздатна (incapacitated) на цей час.",
    "Застосування": ["бій", "соціалка"],
    "Теги": ["отруєння", "недієздатність", "нелетальний", "довгодіючий"],
    "Складність кидка": 15,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Ензим потрійної квітки",
    "Тип": "травяний",
    "Спосіб нанесення": "контактний",
    "Ціна": 200,
    "Ефект": "Липка жовта рідина: якщо не нейтралізувати, поступово шкодить. Ряткидок Витривалості 11: при провалі істота Отруєна і отримує 1 отруйну шкоду щохвилини протягом 8 хвилин.",
    "Застосування": ["бій", "дослідження"],
    "Теги": ["отруєння", "дотик часу", "шкода"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Кров троля",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 300,
    "Ефект": "Стає нешкідливою при температурі вище 40°C. Ряткидок Витривалості 15: при провалі істота Скам'яніла на 1d4 раунди; якщо провал на 5+ — тривалість 5 раундів.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["петрифікація", "контроль", "умовнийефект"],
    "Складність кидка": 15,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Сироватка правди",
    "Тип": "суміш",
    "Спосіб нанесення": "споживаний",
    "Ціна": 150,
    "Ефект": "Ряткидок Витривалості 11: при провалі істота Отруєна на 1 годину і не може свідомо брехати, наче під дією zone of truth.",
    "Застосування": ["соціалка"],
    "Теги": ["отруєння", "правда", "контроль"],
    "Складність кидка": 11,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Убон",
    "Тип": "токсин",
    "Спосіб нанесення": "споживаний",
    "Ціна": 800,
    "Ефект": "Жовта рідина з присмаком кислого динного соку. Ряткидок Витривалості 14: при провалі істота Отруєна, а її максимум ХП зменшується на 1d8. Лише магія може припинити це Отруєння.",
    "Застосування": ["соціалка", "бій"],
    "Теги": ["отруєння", "зменшення максимальних ХП", "перманентне"],
    "Складність кидка": 14,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Пил унгола",
    "Тип": "суміш",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 600,
    "Ефект": "Пил червоно-коричневих пластівців ушкоджує дихальні шляхи. Ряткидок Витривалості 15: при провалі Конституція зменшується на 2, доки це не зніме магія на кшталт greater restoration.",
    "Застосування": ["бій"],
    "Теги": ["зменшення характеристики", "перманентне", "аое"],
    "Складність кидка": 15,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Уропіґус",
    "Тип": "токсин",
    "Спосіб нанесення": "вдихаваний",
    "Ціна": 600,
    "Ефект": "Жовтуватий газ порушує координацію й слух, збиваючи рівновагу. Ряткидок Витривалості 18: при провалі істота падає в prone. Якщо перший ряткидок провалений, вона повторює ряткидок на початку кожного свого ходу протягом 8 раундів; на кожному провалі знову падає в prone.",
    "Застосування": ["бій"],
    "Теги": ["prone", "контроль", "повторні кидки", "аое"],
    "Складність кидка": 18,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Завуальована квітка",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 150,
    "Ефект": "Поширена трава з паралітичним компонентом і дуже неприємним смаком. Ряткидок Витривалості 9: при провалі істота Скута (restrained) на 1 хвилину.",
    "Застосування": ["бій"],
    "Теги": ["сковування", "контроль", "низька складність"],
    "Складність кидка": 9,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Кров отрут",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 1200,
    "Ефект": "Суміш отрут (скорпіони, жаби, змії): більш нестабільна, але потужна. Ряткидок Витривалості 9: при провалі 33 (6d10) отруйної шкоди; при успіху — половина.",
    "Застосування": ["бій"],
    "Теги": ["шкода", "летальний", "низька складність"],
    "Складність кидка": 9,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Пестощі відьми",
    "Тип": "токсин",
    "Спосіб нанесення": "контактний",
    "Ціна": 200,
    "Ефект": "Безбарвна рідина, майже непомітна; легко змивається водою (тоді стає нешкідливою). Ряткидок Витривалості 12: при провалі 4 (1d8) отруйної шкоди; при успіху — половина.",
    "Застосування": ["дослідження", "соціалка"],
    "Теги": ["пастка", "шкода", "легкозмивний"],
    "Складність кидка": 12,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Поцілунок відьми",
    "Тип": "токсин",
    "Спосіб нанесення": "контактний",
    "Ціна": 500,
    "Ефект": "Коричневий гель із суміші токсинів. Ряткидок Витривалості 13: при провалі істота Отруєна, а її Конституція, Спритність і Інтелект тимчасово зменшуються на 1 до завершення тривалого відпочинку.",
    "Застосування": ["бій"],
    "Теги": ["отруєння", "зменшення характеристики", "дебаф"],
    "Складність кидка": 13,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Вовча трава",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 250,
    "Ефект": "Дуже отруйна рослина (інколи також як антидот до скорпіонячої отрути). Перший Ряткидок Витривалості 9: при провалі 7 (3d4) отруйної шкоди. Якщо перший ряткидок провалений, робиться другий Ряткидок Витривалості 10; при провалі істота також Паралізована на 1 хвилину.",
    "Застосування": ["дослідження", "бій"],
    "Теги": ["шкода", "параліч", "антидот-гачок"],
    "Складність кидка": 9,
    "Імба": false,
    "Планую використати": false
  },
  {
    "Назва": "Отрута виверни",
    "Тип": "отрута",
    "Спосіб нанесення": "бойовий",
    "Ціна": 1200,
    "Ефект": "Ряткидок Витривалості 15: при провалі 24 (7d6) отруйної шкоди; при успіху — половина.",
    "Застосування": ["бій"],
    "Теги": ["шкода", "летальний"],
    "Складність кидка": 15,
    "Імба": false,
    "Планую використати": true
  },
  {
    "Назва": "Пил жовтого лотоса",
    "Тип": "травяний",
    "Спосіб нанесення": "споживаний",
    "Ціна": 800,
    "Ефект": "Жовта отрута з різким цитрусово-кислим смаком. Ряткидок Витривалості 10: при провалі істота Отруєна до кінця наступного тривалого відпочинку. Додатково її Харизма назавжди зменшується на 1d6; відновити це може лише магія на кшталт greater restoration.",
    "Застосування": ["соціалка"],
    "Теги": ["отруєння", "перманентне", "зменшення характеристики"],
    "Складність кидка": 10,
    "Імба": false,
    "Планую використати": true
  }
]
;
    const tableBody = document.getElementById('tableBody');
    const emptyState = document.getElementById('emptyState');
    const headerCells = document.querySelectorAll('th[data-key]');
    const tagChipsContainer = document.getElementById('tagChips');
    const columns = [
      'Назва',
      'Тип',
      'Спосіб нанесення',
      'Ціна',
      'Ефект',
      'Застосування',
      'Теги',
      'Складність кидка',
      'Імба',
      'Планую використати'
    ];
    const filters = {
      name: '',
      type: '',
      method: '',
      application: '',
      tags: [],
      tagMode: 'or',
      complexityValue: '',
      complexityCompare: 'greater',
      imba: 'any',
      plan: 'any'
    };
    const sortState = { key: null, direction: 'asc' };
    const triCycle = ['any', 'true', 'false'];
    const triLabels = { any: 'Усі', true: 'Так', false: 'Ні' };

    init();

    function init() {
      populateDropdown('typeFilter', uniqueValues('Тип'));
      populateDropdown('methodFilter', uniqueValues('Спосіб нанесення'));
      populateDropdown('applicationFilter', uniqueApplications());
      renderTagChips(uniqueTags());
      document.getElementById('nameFilter').addEventListener('input', (event) => {
        filters.name = event.target.value.trim().toLowerCase();
        renderRows();
      });
      document.getElementById('typeFilter').addEventListener('change', (event) => {
        filters.type = event.target.value;
        renderRows();
      });
      document.getElementById('methodFilter').addEventListener('change', (event) => {
        filters.method = event.target.value;
        renderRows();
      });
      document.getElementById('applicationFilter').addEventListener('change', (event) => {
        filters.application = event.target.value;
        renderRows();
      });
      document.querySelectorAll('[data-tag-mode]').forEach((button) => {
        button.addEventListener('click', () => setTagMode(button.dataset.tagMode));
      });
      document.getElementById('complexityCompare').addEventListener('change', (event) => {
        filters.complexityCompare = event.target.value;
        renderRows();
      });
      document.getElementById('complexityValue').addEventListener('input', (event) => {
        filters.complexityValue = event.target.value;
        renderRows();
      });
      document.querySelectorAll('.tri-state').forEach((button) => {
        button.addEventListener('click', () => cycleTriState(button));
      });
      headerCells.forEach((th) => {
        th.addEventListener('click', () => handleSort(th.dataset.key));
      });
      renderRows();
    }

    function populateDropdown(id, values) {
      const select = document.getElementById(id);
      select.innerHTML = '<option value="">Усі</option>' + values.map((value) => `<option value="${value}">${value}</option>`).join('');
    }

    function uniqueValues(field) {
      return Array.from(new Set(potions.map((item) => item[field]).filter(Boolean))).sort((a, b) => a.localeCompare(b, 'uk'));
    }

    function uniqueApplications() {
      const values = new Set();
      potions.forEach((item) => {
        (item['Застосування'] || []).forEach((entry) => values.add(entry));
      });
      return Array.from(values).sort((a, b) => a.localeCompare(b, 'uk'));
    }

    function uniqueTags() {
      const values = new Set();
      potions.forEach((item) => {
        (item['Теги'] || []).forEach((entry) => values.add(entry));
      });
      return Array.from(values).sort((a, b) => a.localeCompare(b, 'uk'));
    }

    function renderTagChips(tags) {
      tagChipsContainer.innerHTML = '';
      tags.forEach((tag) => {
        const button = document.createElement('button');
        button.type = 'button';
        button.className = 'chip';
        button.textContent = tag;
        if (filters.tags.includes(tag)) {
          button.classList.add('active');
        }
        button.addEventListener('click', () => toggleTag(tag, button));
        tagChipsContainer.appendChild(button);
      });
    }

    function toggleTag(tag, button) {
      const index = filters.tags.indexOf(tag);
      if (index >= 0) {
        filters.tags.splice(index, 1);
        button.classList.remove('active');
      } else {
        filters.tags.push(tag);
        button.classList.add('active');
      }
      renderRows();
    }

    function setTagMode(mode) {
      if (filters.tagMode === mode) {
        return;
      }
      filters.tagMode = mode;
      document.querySelectorAll('[data-tag-mode]').forEach((button) => {
        button.classList.toggle('active', button.dataset.tagMode === mode);
      });
      renderRows();
    }

    function cycleTriState(button) {
      const current = button.dataset.state || 'any';
      const next = triCycle[(triCycle.indexOf(current) + 1) % triCycle.length];
      button.dataset.state = next;
      button.textContent = triLabels[next];
      button.classList.remove('state-any', 'state-true', 'state-false');
      button.classList.add(`state-${next}`);
      filters[button.dataset.filter] = next;
      renderRows();
    }

    function handleSort(column) {
      if (sortState.key === column) {
        sortState.direction = sortState.direction === 'asc' ? 'desc' : sortState.direction === 'desc' ? null : 'asc';
        if (!sortState.direction) {
          sortState.key = null;
        }
      } else {
        sortState.key = column;
        sortState.direction = 'asc';
      }
      renderRows();
    }

    function renderRows() {
      const filtered = applyFilters();
      const sorted = applySort(filtered);
      tableBody.innerHTML = '';
      if (!sorted.length) {
        emptyState.classList.add('active');
        updateSortIndicators();
        return;
      }
      emptyState.classList.remove('active');
      const fragment = document.createDocumentFragment();
      sorted.forEach((item) => {
        const row = document.createElement('tr');
        columns.forEach((column) => {
          const cell = document.createElement('td');
          cell.textContent = formatValue(item[column]);
          row.appendChild(cell);
        });
        fragment.appendChild(row);
      });
      tableBody.appendChild(fragment);
      updateSortIndicators();
    }

    function applyFilters() {
      return potions.filter((item) => {
        if (filters.name && !String(item['Назва']).toLowerCase().includes(filters.name)) {
          return false;
        }
        if (filters.type && item['Тип'] !== filters.type) {
          return false;
        }
        if (filters.method && item['Спосіб нанесення'] !== filters.method) {
          return false;
        }
        if (filters.application && !(item['Застосування'] || []).includes(filters.application)) {
          return false;
        }
        if (filters.tags.length) {
          const tags = item['Теги'] || [];
          if (filters.tagMode === 'and') {
            if (!filters.tags.every((tag) => tags.includes(tag))) {
              return false;
            }
          } else if (!filters.tags.some((tag) => tags.includes(tag))) {
            return false;
          }
        }
        if (filters.complexityValue !== '') {
          const value = Number(filters.complexityValue);
          if (!Number.isNaN(value)) {
            const dc = Number(item['Складність кидка']);
            if (filters.complexityCompare === 'greater' && !(dc >= value)) {
              return false;
            }
            if (filters.complexityCompare === 'less' && !(dc <= value)) {
              return false;
            }
          }
        }
        if (filters.imba !== 'any') {
          const expected = filters.imba === 'true';
          if (Boolean(item['Імба']) !== expected) {
            return false;
          }
        }
        if (filters.plan !== 'any') {
          const expected = filters.plan === 'true';
          if (Boolean(item['Планую використати']) !== expected) {
            return false;
          }
        }
        return true;
      });
    }

    function applySort(list) {
      if (!sortState.key) {
        return list;
      }
      const sorted = [...list].sort((a, b) => {
        const valueA = normalizeValue(a[sortState.key]);
        const valueB = normalizeValue(b[sortState.key]);
        if (valueA < valueB) return -1;
        if (valueA > valueB) return 1;
        return 0;
      });
      return sortState.direction === 'asc' ? sorted : sorted.reverse();
    }

    function normalizeValue(value) {
      if (Array.isArray(value)) {
        return value.join(', ').toLowerCase();
      }
      if (typeof value === 'number') {
        return value;
      }
      if (typeof value === 'boolean') {
        return value ? 1 : 0;
      }
      return String(value ?? '').toLowerCase();
    }

    function formatValue(value) {
      if (Array.isArray(value)) {
        return value.join(', ');
      }
      if (typeof value === 'boolean') {
        return value ? 'Так' : 'Ні';
      }
      return value ?? '';
    }

    function updateSortIndicators() {
      headerCells.forEach((th) => {
        const indicator = th.querySelector('.sort-indicator');
        if (!indicator) {
          return;
        }
        if (th.dataset.key === sortState.key) {
          indicator.textContent = sortState.direction === 'asc' ? '▲' : '▼';
        } else {
          indicator.textContent = '';
        }
      });
    }
  </script>
</body>
</html>
    .filter-group.full-width {
      grid-column: 1 / -1;
    }
